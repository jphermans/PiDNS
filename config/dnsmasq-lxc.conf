# PiDNS dnsmasq configuration for LXC Containers
# Optimized for containerized environments like Proxmox LXC

# Interface configuration
# Listen on all interfaces in LXC
interface=eth0

# DHCP server configuration (may need to be disabled in LXC)
# Uncomment if you have proper network configuration
# dhcp-range=192.168.1.100,192.168.1.200,255.255.255.0,24h
# dhcp-option=option:router,192.168.1.1
# dhcp-option=option:dns-server,192.168.1.1
# dhcp-authoritative

# DNS configuration
domain-needed
bogus-priv
no-resolv
server=8.8.8.8
server=8.8.4.4
server=1.1.1.1

# Lease file location
dhcp-leasefile=/var/lib/misc/dnsmasq.leases

# Logging
log-queries
log-dhcp

# Performance optimizations for container environment
cache-size=500
dns-forward-max=500

# Security (limited in containers)
no-ping
# dhcp-name-match=set:hostname-ignore,wpad
# dhcp-ignore-names=tag:hostname-ignore

# Local domain
local=/lxc.local/
domain=lxc.local

# Additional LXC-specific settings
bind-interfaces
except-interface=lo